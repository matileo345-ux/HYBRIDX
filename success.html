<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration Complete - HYBRIDX</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <div class="header-left">
      <img src="logo.png" alt="HYBRIDX" class="logo-img">
      <div class="logo-text">HYBRIDX</div>
    </div>
    <a href="index.html" class="about-btn">Home</a>
  </header>

  <main>
    <section class="hero">
      <div class="tag">‚úÖ REGISTRATION COMPLETE</div>
      <h1>Welcome to <span class="gradient-text">HYBRIDX</span></h1>
      <p class="hero-text">You're officially registered for the world's first hybrid launchpool!</p>

      <!-- Success Message -->
      <div class="email-box" style="background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3); margin-bottom: 32px;">
        <h2 style="color: #10b981; margin-bottom: 16px;">üéâ Registration Successful!</h2>
        <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.8;">
          Your $50 BNB launchpool allocation has been confirmed! We'll send your stake allocation to your wallet before the Q1 2026 launch. You'll receive email updates about launch dates and staking details.
        </p>
      </div>

      <!-- Referral Section -->
      <div class="email-box">
        <h2>üéÅ Share & Earn Bonuses</h2>
        <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 20px; line-height: 1.8;">
          Share your unique referral link with friends. Every 10 successful referrals = +$5 BNB bonus for your launchpool stake!
        </p>

        <!-- Referral Code Display -->
        <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 8px; margin-bottom: 20px; text-align: center; border: 1px solid rgba(102, 126, 234, 0.3);">
          <p style="font-size: 14px; color: rgba(255, 255, 255, 0.6); margin-bottom: 8px;">Your Referral Code:</p>
          <p id="referralCode" style="font-size: 32px; font-weight: 800; color: #667eea; letter-spacing: 2px; margin-bottom: 12px;"></p>
          <button onclick="copyCode()" class="generate-btn" style="background: rgba(102, 126, 234, 0.2); padding: 12px 24px;">
            üìã Copy Code
          </button>
        </div>

        <!-- Referral Link -->
        <div style="background: rgba(255, 255, 255, 0.03); padding: 20px; border-radius: 8px;">
          <p style="font-size: 14px; color: rgba(255, 255, 255, 0.6); margin-bottom: 12px;">Your Referral Link:</p>
          <div style="display: flex; gap: 8px; align-items: center; flex-wrap: wrap;">
            <input type="text" id="referralLink" readonly style="flex: 1; min-width: 200px; padding: 12px; background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: #fff; font-size: 13px; font-family: monospace;">
            <button onclick="copyLink()" class="generate-btn" style="padding: 12px 24px; white-space: nowrap;">
              üìã Copy Link
            </button>
          </div>
        </div>

        <!-- Referral Stats -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 24px;">
          <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 8px; text-align: center; border: 1px solid rgba(102, 126, 234, 0.2);">
            <p style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-bottom: 4px;">Total Referrals</p>
            <p id="totalReferrals" style="font-size: 28px; font-weight: 700; color: #667eea;">0</p>
          </div>
          <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 8px; text-align: center; border: 1px solid rgba(16, 185, 129, 0.2);">
            <p style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-bottom: 4px;">Bonus BNB</p>
            <p id="bonusBNB" style="font-size: 28px; font-weight: 700; color: #10b981;">$0</p>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <a href="https://x.com/HYBRIDX_HYBX" class="follow-btn">Follow X</a>
    </footer>
  </main>

  <script>
    function copyCode() {
      const code = document.getElementById('referralCode').textContent;
      copyToClipboard(code);
    }

    function copyLink() {
      const link = document.getElementById('referralLink').value;
      copyToClipboard(link);
    }
    
    function copyToClipboard(text) {
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).then(() => {
          alert('Copied to clipboard!');
        }).catch(() => {
          fallbackCopy(text);
        });
      } else {
        fallbackCopy(text);
      }
    }
    
    function fallbackCopy(text) {
      const textArea = document.createElement('textarea');
      textArea.value = text;
      textArea.style.position = 'fixed';
      textArea.style.left = '-999999px';
      document.body.appendChild(textArea);
      textArea.select();
      try {
        document.execCommand('copy');
        alert('Copied to clipboard!');
      } catch (err) {
        alert('Failed to copy');
      }
      document.body.removeChild(textArea);
    }

    function loadSuccess() {
      const userDataStr = localStorage.getItem('hybridx_user');
      
      if (!userDataStr) {
        alert('Please complete registration first');
        setTimeout(() => {
          window.location.href = 'register.html';
        }, 1000);
        return;
      }
      
      const userData = JSON.parse(userDataStr);
      
      if (!userData.registrationComplete) {
        alert('Please complete all registration steps');
        setTimeout(() => {
          window.location.href = 'register.html';
        }, 1000);
        return;
      }
      
      // Calculate referral stats
      const referrals = JSON.parse(localStorage.getItem('hybridx_referrals') || '{}');
      const referralCount = referrals[userData.referralCode] ? referrals[userData.referralCode].length : 0;
      const bonusBNB = Math.floor(referralCount / 10) * 5;
      
      // Display referral code
      document.getElementById('referralCode').textContent = userData.referralCode;
      
      // Generate referral link
      const baseUrl = window.location.origin + window.location.pathname.replace('/success', '/register');
      const referralLink = baseUrl + '?ref=' + userData.referralCode;
      document.getElementById('referralLink').value = referralLink;
      
      // Update stats
      document.getElementById('totalReferrals').textContent = referralCount;
      document.getElementById('bonusBNB').textContent = '$' + bonusBNB;
    }

    // Load on page load
    window.addEventListener('DOMContentLoaded', loadSuccess);
  </script>
</body>
</html>
